---
title: A simple Form Builder using jQueryUI   - Part 1
tags: jquery, form builder, javascript
meta: jquery, jqueryUI, formbuilder, form builder, javascript, customization
abstract: In this post, we will see how to implement jQuery and jQueryUI to create the first part of form builder. In this part, the form builder will be used to place fields in a column layout. 
thumbnail: formbuilder-p1-thumbnail.png
date: 2013-01-26
---
<p>

<span style="">In this post, we will see how to implement jQuery and jQueryUI to create the first part of form builder. In this part, the form builder will be used to place fields in a column layout &ndash; specifically a two column layout.</span>
</p>
<p>
<a style="" title="Demo &amp; source code" href="code/formbuilder-part1.html" target="_blank"><img style="" title="Form builder drag-drop" src="images/formbuilder-p1-img1.png" alt="Form builder-drag-drop" width="594" height="313" /></a>
</p>
<p>

<a title="Demo &amp; Source code" href="code/formbuilder-part1.html" target="_blank"><strong>Demo / Source-code here</strong></a>

</p>
<p>
Here we define a table with 3 columns. The first column contains the list of available elements. The other two columns are empty and act as a customizable two column layout.
</p>
<p>
<pre class="prettyprint">&lt;table class="containerTable" id="containerTable"&gt;
    &lt;thead&gt;
        &lt;tr align="left"&gt;
            &lt;th&gt;
                Available elements
            &lt;/th&gt;
            &lt;th colspan="2"&gt;
                Drop the fields in one of these columns
            &lt;/th&gt;
        &lt;tr&gt;
    &lt;/thead&gt;
    &lt;tr&gt;
        &lt;td&gt;
            &lt;!-- List of fields to be populated here --&gt;
            &lt;div id="listOfFields"&gt;&lt;/div&gt;
        &lt;/td&gt;

        &lt;!-- droppable columns defined below--&gt;
        &lt;td class="droppedFieldsColumn"&gt;
            &lt;div id="selected-column-1" class="droppedFields"&gt;&lt;/div&gt;
        &lt;/td&gt;
        &lt;td class="droppedFieldsColumn" &gt;
            &lt;div id="selected-column-2" class="droppedFields"&gt;&lt;/div&gt;
        &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tfoot&gt;
        &lt;tr align="left"&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="button" value="Preview" onclick="preview();"&gt;&lt;/input&gt;
            &lt;/td&gt;
        &lt;tr&gt;
    &lt;/tfoot&gt;
&lt;/table&gt;</pre>
</p>
<p>
In the first column we define a DIV with draggable elements. The list of elements is generated by a method getFields(..). These values may be coming from a database or from a selected list of implemented elements - For now we use this simple method that returns list of fields that contain the name, label and type of the field.
</p>
<p>
<pre class="prettyprint">/* populate the list of fields into the div */
var fields = getFields();
$(fields).each(function(index,value) {
    $("#listOfFields").append("&lt;div class='fld'
         fieldtype='"+value.type+"'&gt;"+value.label+"&lt;/div&gt;");
});

$(".fld").draggable({ helper: "clone",
      stack: "#containerTable div",cursor: "move"  });</pre>
</p>
<p>
As shown above, we first create the list of fields with a class "fld". After creating the list, we simply mark that class as <em>draggable. </em>In the draggable options, we mention helper - "clone" to avoid moving the original object. The cursor is set to Move and the stack is set so as to show the fields being dragged above the other elements.

</p>
<p>
Now that we have made these elements draggable, let's define a drop target for these. This is simply done by the below:
</p>
<p>
<pre class="prettyprint">$( ".droppedFields" ).droppable({
      activeClass: "activeDroppable",
      hoverClass: "hoverDroppable",
      accept: ":not(.ui-sortable-helper)",
    drop: function( event, ui ) {
        var fieldtype = $(ui.draggable).attr("fieldtype");
        $( "&lt;div  class='fld' fieldtype='"+fieldtype+"'&gt;&lt;/div&gt;")
           .html( ui.draggable.html()).appendTo( this );
    }
});</pre>
</p>
<p>
We have created two table column DIVs with class "<em>droppedFields</em>". We the above line we mark those as dropppable. In the <em>drop</em> function we create a new DIV element and append it to the column-DIVs.
</p>
<p>

The "<em>accept"</em>&nbsp;option defines what draggable elements are allowed to be dropped in the column-DIVs. Applying "<em>:not(.ui-sortable-helper)</em>" prevents the drop when sorting the elements within the column-DIV. The elements are made sortable with the following lines:
</p>
<p>
<pre class="prettyprint">$( ".droppedFields" ).sortable();
$( ".droppedFields" ).disableSelection();</pre>
</p>
<p>
User can now drag and drop the elements from the list of available elements and place those into one of the two containers.

</p>
<p>
In this demo, when you click preview, we collect the list of elements in each column and create an array of objects defining the columns. This array is currently used to show the list of columns in the preview - but this can be processed further to render HTML elements. This array can also be serialized and stored into a database to preserve the customization. Keep looking for further enhancements in other parts of this series and happy coding&nbsp;<img title="Smile" src="/static/images/smiley-smile.gif" alt="Smile" border="0" />
</p>
<p>

<a style="" title="Demo &amp; Source code" href="code/formbuilder-part1.html" target="_blank"><strong>Demo / Source-code here</strong></a>

</p>
<p>

<a title="Form Builder Part 2" href="/posts/form-builder-part-2/"><strong>Next&gt;&gt; Form Builder Part 2</strong></a>&nbsp;
</p>
